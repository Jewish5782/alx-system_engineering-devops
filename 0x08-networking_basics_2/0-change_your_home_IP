#!/usr/bin/env bash
# Script to configure an Ubuntu server with requirements:
# - localhost resolves to 127.0.0.2
# - facebook.com resolves to 8.8.8.8

# Backup the current /etc/hosts file
sudo cp /etc/hosts /etc/hosts.bak

# Copy the current /etc/hosts to a temporary file for modification
cp /etc/hosts ~/hosts.newfile

# Append the new entries (without overwriting the whole file)
echo "127.0.0.2    localhost" >> ~/hosts.newfile
echo "8.8.8.8    facebook.com" >> ~/hosts.newfile

# Overwrite the /etc/hosts file with the modified version
sudo cp -f ~/hosts.newfile /etc/hosts

# Optionally, remove the temporary file
rm ~/hosts.newfile

# Print the updated /etc/hosts for confirmation
cat /etc/hosts
